(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[395],{3022:function(e,t,r){var i,n,s,a,o,u,l;self,e.exports=(i=r(2265),n=r(600),s=r(5234),a=r(2744),o=r(5234),u=r(9967),l=r(2488),(()=>{"use strict";var e={3801:e=>{e.exports=l},6444:e=>{e.exports=u},9154:e=>{e.exports=o},4450:e=>{e.exports=s},8310:e=>{e.exports=a},8156:e=>{e.exports=i},5002:e=>{e.exports=n}},t={};function r(i){var n=t[i];if(void 0!==n)return n.exports;var s=t[i]={exports:{}};return e[i](s,s.exports,r),s.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var i in t)r.o(t,i)&&!r.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var c={};return(()=>{r.r(c),r.d(c,{SnackbarContent:()=>p,default:()=>g});var e=r(8156),t=r.n(e),i=r(5002),n=r(4450),s=r(8310),a=r.n(s),o=r(9154),u=r(6444),l=r.n(u),h=r(3801),d=function(){return(d=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)},f=t().forwardRef(function(e,r){var i,n=e.variant,s=e.message,u=e.description,c=e.withIcon,f=void 0===c||c,p=e.onClose,y=e.className,m=e.dir,g=void 0===m?(0,o.useDir)(e.dir):m,v=e.style,b=(0,o.useTheme)().theme,O=function(){switch(n){case"success":case"error":case"warning":return n;case"info":return"primary";default:return null}},C=(0,o.createStyles)(function(e){return{snackbarContent:function(t){var r=t.color;return{display:"flex",borderRadius:(0,o.toRem)(8),border:r?"1px solid ".concat(e.colors[r].medium300):e.colors.neutralGray.extraDark900,color:r?e.colors[r].dark600:e.colors.contrast.white,padding:(0,o.toRem)(16),alignItems:"flex-start",justifyContent:"space-between",width:"100%",boxSizing:"border-box",backgroundColor:r?e.colors[r].extraLight50:e.colors.neutralGray.extraDark900}},mainContent:{display:"flex",alignItems:"center"},symbol:function(e){var t;return(t={alignSelf:e.description?"flex-start":"center"})["rtl"===e.dir?"marginLeft":"marginRight"]=(0,o.toRem)(12),t.display="flex",t.alignItems="center",t.justifyContent="center",t},message:{display:"flex",flexDirection:"column",gap:(0,o.toRem)(4)},icon:{fill:e.colors.primary.main500},closeIcon:{width:20,height:20,cursor:"pointer"},"@media (max-width: 420px)":{mainContent:{flexDirection:"column"},symbol:{marginBottom:(0,o.toRem)(12)}},title:{lineHeight:(0,o.toRem)(17)},description:{lineHeight:(0,o.toRem)(17)}}},{internalUsage:!0})(d(d({},e),{color:O(),dir:g}));return t().createElement("div",{ref:r,className:a()(C.snackbarContent,y),style:v},t().createElement("div",{className:C.mainContent},"default"!==n&&f&&t().createElement("div",{className:C.symbol},function(){var e,r={variant:"filled",className:C.icon,fill:null===(e=b.colors[O()])||void 0===e?void 0:e.dark600,"data-testid":"gaia-snackbar-icon"};switch(n){case"success":return t().createElement(h.CheckIcon,d({},r));case"error":return t().createElement(h.ErrorIcon,d({},r));case"warning":return t().createElement(h.WarningIcon,d({},r));case"info":return t().createElement(h.InfoIcon,d({},r));default:return null}}()),t().createElement("div",{className:C.message},t().createElement(l(),{weight:"semiBold",variant:"components2",className:C.title},s),u&&t().createElement(l(),{variant:"components2",className:C.description},u))),"default"!==n&&!!p&&t().createElement("div",{onClick:p,"data-testid":"gaia-snackbar-close-button"},t().createElement(h.CloseIcon,{fill:null===(i=b.colors[O()])||void 0===i?void 0:i.dark600,className:C.closeIcon})))});f.displayName="SnackbarContent";let p=f;var y=function(){return(y=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)},m=function(r){var s=r.open,o=void 0!==s&&s,u=r.autoHideDuration,l=void 0===u?3e3:u,c=r.anchorOrigin,h=r.onClose,d=r.className,f=function(e,t){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&0>t.indexOf(i)&&(r[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(i=Object.getOwnPropertySymbols(e);n<i.length;n++)0>t.indexOf(i[n])&&Object.prototype.propertyIsEnumerable.call(e,i[n])&&(r[i[n]]=e[i[n]])}return r}(r,["open","autoHideDuration","anchorOrigin","onClose","className"]),m=(0,e.useRef)(null),g=t().useRef(),v=(0,n.createStyles)(function(){return{animatedEnter:{opacity:0},animatedEnterActive:{opacity:1,transform:"translateX(0)",transition:"opacity 300ms, transform 300ms"},animatedExit:{opacity:1},animatedExitActive:{opacity:0,transition:"opacity 300ms, transform 300ms"},snackbar:{position:"fixed",width:"90vw",maxWidth:400},top:{top:(0,n.toRem)(40)},bottom:{bottom:(0,n.toRem)(40)},left:{left:(0,n.toRem)(40)},right:{right:(0,n.toRem)(40)},center:{left:"50%",transform:"translateX(-50%)"}}},{internalUsage:!0})(r),b=function(){h&&h(),clearTimeout(g.current)};return(0,e.useEffect)(function(){return o&&(g.current=setTimeout(function(){b()},l)),function(){clearTimeout(g.current)}},[o]),t().createElement(i.CSSTransition,{nodeRef:m,in:o,timeout:300,classNames:{enter:v.animatedEnter,enterActive:v.animatedEnterActive,exit:v.animatedExit,exitActive:v.animatedExitActive},unmountOnExit:!0},t().createElement("div",{className:a()(v.snackbar,v[c.horizontal],v[c.vertical],d),ref:m,"data-testid":"gaia-snackbar"},t().createElement(p,y({onClose:b},f))))};m.defaultProps={anchorOrigin:{vertical:"top",horizontal:"center"}};let g=m})(),c})())},3453:function(e,t){"use strict";let r;Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{DOMAttributeNames:function(){return i},isEqualNode:function(){return s},default:function(){return a}});let i={acceptCharset:"accept-charset",className:"class",htmlFor:"for",httpEquiv:"http-equiv",noModule:"noModule"};function n(e){let{type:t,props:r}=e,n=document.createElement(t);for(let e in r){if(!r.hasOwnProperty(e)||"children"===e||"dangerouslySetInnerHTML"===e||void 0===r[e])continue;let s=i[e]||e.toLowerCase();"script"===t&&("async"===s||"defer"===s||"noModule"===s)?n[s]=!!r[e]:n.setAttribute(s,r[e])}let{children:s,dangerouslySetInnerHTML:a}=r;return a?n.innerHTML=a.__html||"":s&&(n.textContent="string"==typeof s?s:Array.isArray(s)?s.join(""):""),n}function s(e,t){if(e instanceof HTMLElement&&t instanceof HTMLElement){let r=t.getAttribute("nonce");if(r&&!e.getAttribute("nonce")){let i=t.cloneNode(!0);return i.setAttribute("nonce",""),i.nonce=r,r===e.nonce&&e.isEqualNode(i)}}return e.isEqualNode(t)}function a(){return{mountedInstances:new Set,updateHead:e=>{let t={};e.forEach(e=>{if("link"===e.type&&e.props["data-optimized-fonts"]){if(document.querySelector('style[data-href="'+e.props["data-href"]+'"]'))return;e.props.href=e.props["data-href"],e.props["data-href"]=void 0}let r=t[e.type]||[];r.push(e),t[e.type]=r});let i=t.title?t.title[0]:null,n="";if(i){let{children:e}=i.props;n="string"==typeof e?e:Array.isArray(e)?e.join(""):""}n!==document.title&&(document.title=n),["meta","base","link","style","script"].forEach(e=>{r(e,t[e]||[])})}}}r=(e,t)=>{let r=document.getElementsByTagName("head")[0],i=r.querySelector("meta[name=next-head-count]"),a=Number(i.content),o=[];for(let t=0,r=i.previousElementSibling;t<a;t++,r=(null==r?void 0:r.previousElementSibling)||null){var u;(null==r?void 0:null==(u=r.tagName)?void 0:u.toLowerCase())===e&&o.push(r)}let l=t.map(n).filter(e=>{for(let t=0,r=o.length;t<r;t++){let r=o[t];if(s(r,e))return o.splice(t,1),!1}return!0});o.forEach(e=>{var t;return null==(t=e.parentNode)?void 0:t.removeChild(e)}),l.forEach(e=>r.insertBefore(e,i)),i.content=(a-o.length+l.length).toString()},("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},3015:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{handleClientScriptLoad:function(){return y},initScriptLoader:function(){return m},default:function(){return v}});let i=r(1024),n=r(8533),s=i._(r(4887)),a=n._(r(2265)),o=r(1330),u=r(3453),l=r(8043),c=new Map,h=new Set,d=["onLoad","onReady","dangerouslySetInnerHTML","children","onError","strategy","stylesheets"],f=e=>{if(s.default.preinit){e.forEach(e=>{s.default.preinit(e,{as:"style"})});return}{let t=document.head;e.forEach(e=>{let r=document.createElement("link");r.type="text/css",r.rel="stylesheet",r.href=e,t.appendChild(r)})}},p=e=>{let{src:t,id:r,onLoad:i=()=>{},onReady:n=null,dangerouslySetInnerHTML:s,children:a="",strategy:o="afterInteractive",onError:l,stylesheets:p}=e,y=r||t;if(y&&h.has(y))return;if(c.has(t)){h.add(y),c.get(t).then(i,l);return}let m=()=>{n&&n(),h.add(y)},g=document.createElement("script"),v=new Promise((e,t)=>{g.addEventListener("load",function(t){e(),i&&i.call(this,t),m()}),g.addEventListener("error",function(e){t(e)})}).catch(function(e){l&&l(e)});for(let[r,i]of(s?(g.innerHTML=s.__html||"",m()):a?(g.textContent="string"==typeof a?a:Array.isArray(a)?a.join(""):"",m()):t&&(g.src=t,c.set(t,v)),Object.entries(e))){if(void 0===i||d.includes(r))continue;let e=u.DOMAttributeNames[r]||r.toLowerCase();g.setAttribute(e,i)}"worker"===o&&g.setAttribute("type","text/partytown"),g.setAttribute("data-nscript",o),p&&f(p),document.body.appendChild(g)};function y(e){let{strategy:t="afterInteractive"}=e;"lazyOnload"===t?window.addEventListener("load",()=>{(0,l.requestIdleCallback)(()=>p(e))}):p(e)}function m(e){e.forEach(y),function(){let e=[...document.querySelectorAll('[data-nscript="beforeInteractive"]'),...document.querySelectorAll('[data-nscript="beforePageRender"]')];e.forEach(e=>{let t=e.id||e.getAttribute("src");h.add(t)})}()}function g(e){let{id:t,src:r="",onLoad:i=()=>{},onReady:n=null,strategy:u="afterInteractive",onError:c,stylesheets:d,...f}=e,{updateScripts:y,scripts:m,getIsSsr:g,appDir:v,nonce:b}=(0,a.useContext)(o.HeadManagerContext),O=(0,a.useRef)(!1);(0,a.useEffect)(()=>{let e=t||r;O.current||(n&&e&&h.has(e)&&n(),O.current=!0)},[n,t,r]);let C=(0,a.useRef)(!1);if((0,a.useEffect)(()=>{!C.current&&("afterInteractive"===u?p(e):"lazyOnload"===u&&("complete"===document.readyState?(0,l.requestIdleCallback)(()=>p(e)):window.addEventListener("load",()=>{(0,l.requestIdleCallback)(()=>p(e))})),C.current=!0)},[e,u]),("beforeInteractive"===u||"worker"===u)&&(y?(m[u]=(m[u]||[]).concat([{id:t,src:r,onLoad:i,onReady:n,onError:c,...f}]),y(m)):g&&g()?h.add(t||r):g&&!g()&&p(e)),v){if(d&&d.forEach(e=>{s.default.preinit(e,{as:"style"})}),"beforeInteractive"===u)return r?(s.default.preload(r,f.integrity?{as:"script",integrity:f.integrity}:{as:"script"}),a.default.createElement("script",{nonce:b,dangerouslySetInnerHTML:{__html:"(self.__next_s=self.__next_s||[]).push("+JSON.stringify([r])+")"}})):(f.dangerouslySetInnerHTML&&(f.children=f.dangerouslySetInnerHTML.__html,delete f.dangerouslySetInnerHTML),a.default.createElement("script",{nonce:b,dangerouslySetInnerHTML:{__html:"(self.__next_s=self.__next_s||[]).push("+JSON.stringify([0,{...f}])+")"}}));"afterInteractive"===u&&r&&s.default.preload(r,f.integrity?{as:"script",integrity:f.integrity}:{as:"script"})}return null}Object.defineProperty(g,"__nextScript",{value:!0});let v=g;("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},5491:function(e){e.exports={style:{fontFamily:"'__Rubik_98e1b5', '__Rubik_Fallback_98e1b5'",fontStyle:"normal"},className:"__className_98e1b5"}},847:function(e,t,r){"use strict";r.d(t,{S:function(){return m}});var i=r(300),n=r(7987),s=r(1640),a=r(9024),o=class extends a.F{constructor(e){super(),this.#e=!1,this.#t=e.defaultOptions,this.#r(e.options),this.#i=[],this.#n=e.cache,this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#s=e.state||function(e){let t="function"==typeof e.initialData?e.initialData():e.initialData,r=void 0!==t,i=r?"function"==typeof e.initialDataUpdatedAt?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?i??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}(this.options),this.state=this.#s,this.scheduleGc()}#s;#a;#n;#o;#u;#i;#t;#e;get meta(){return this.options.meta}#r(e){this.options={...this.#t,...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){this.#i.length||"idle"!==this.state.fetchStatus||this.#n.remove(this)}setData(e,t){let r=(0,i.oE)(this.state.data,e,this.options);return this.#l({data:r,type:"success",dataUpdatedAt:t?.updatedAt,manual:t?.manual}),r}setState(e,t){this.#l({type:"setState",state:e,setStateOptions:t})}cancel(e){let t=this.#o;return this.#u?.cancel(e),t?t.then(i.ZT).catch(i.ZT):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#s)}isActive(){return this.#i.some(e=>!1!==e.options.enabled)}isDisabled(){return this.getObserversCount()>0&&!this.isActive()}isStale(){return this.state.isInvalidated||!this.state.dataUpdatedAt||this.#i.some(e=>e.getCurrentResult().isStale)}isStaleByTime(e=0){return this.state.isInvalidated||!this.state.dataUpdatedAt||!(0,i.Kp)(this.state.dataUpdatedAt,e)}onFocus(){let e=this.#i.find(e=>e.shouldFetchOnWindowFocus());e?.refetch({cancelRefetch:!1}),this.#u?.continue()}onOnline(){let e=this.#i.find(e=>e.shouldFetchOnReconnect());e?.refetch({cancelRefetch:!1}),this.#u?.continue()}addObserver(e){this.#i.includes(e)||(this.#i.push(e),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.#i.includes(e)&&(this.#i=this.#i.filter(t=>t!==e),this.#i.length||(this.#u&&(this.#e?this.#u.cancel({revert:!0}):this.#u.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.#i.length}invalidate(){this.state.isInvalidated||this.#l({type:"invalidate"})}fetch(e,t){if("idle"!==this.state.fetchStatus){if(this.state.dataUpdatedAt&&t?.cancelRefetch)this.cancel({silent:!0});else if(this.#o)return this.#u?.continueRetry(),this.#o}if(e&&this.#r(e),!this.options.queryFn){let e=this.#i.find(e=>e.options.queryFn);e&&this.#r(e.options)}let r=new AbortController,i={queryKey:this.queryKey,meta:this.meta},n=e=>{Object.defineProperty(e,"signal",{enumerable:!0,get:()=>(this.#e=!0,r.signal)})};n(i);let a={fetchOptions:t,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:()=>this.options.queryFn?(this.#e=!1,this.options.persister)?this.options.persister(this.options.queryFn,i,this):this.options.queryFn(i):Promise.reject(Error(`Missing queryFn: '${this.options.queryHash}'`))};n(a),this.options.behavior?.onFetch(a,this),this.#a=this.state,("idle"===this.state.fetchStatus||this.state.fetchMeta!==a.fetchOptions?.meta)&&this.#l({type:"fetch",meta:a.fetchOptions?.meta});let o=e=>{(0,s.DV)(e)&&e.silent||this.#l({type:"error",error:e}),(0,s.DV)(e)||(this.#n.config.onError?.(e,this),this.#n.config.onSettled?.(this.state.data,e,this)),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1};return this.#u=(0,s.Mz)({fn:a.fetchFn,abort:r.abort.bind(r),onSuccess:e=>{if(void 0===e){o(Error(`${this.queryHash} data is undefined`));return}this.setData(e),this.#n.config.onSuccess?.(e,this),this.#n.config.onSettled?.(e,this.state.error,this),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1},onError:o,onFail:(e,t)=>{this.#l({type:"failed",failureCount:e,error:t})},onPause:()=>{this.#l({type:"pause"})},onContinue:()=>{this.#l({type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode}),this.#o=this.#u.promise,this.#o}#l(e){this.state=(t=>{switch(e.type){case"failed":return{...t,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...t,fetchStatus:"paused"};case"continue":return{...t,fetchStatus:"fetching"};case"fetch":return{...t,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:e.meta??null,fetchStatus:(0,s.Kw)(this.options.networkMode)?"fetching":"paused",...!t.dataUpdatedAt&&{error:null,status:"pending"}};case"success":return{...t,data:e.data,dataUpdateCount:t.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":let r=e.error;if((0,s.DV)(r)&&r.revert&&this.#a)return{...this.#a,fetchStatus:"idle"};return{...t,error:r,errorUpdateCount:t.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:t.fetchFailureCount+1,fetchFailureReason:r,fetchStatus:"idle",status:"error"};case"invalidate":return{...t,isInvalidated:!0};case"setState":return{...t,...e.state}}})(this.state),n.V.batch(()=>{this.#i.forEach(e=>{e.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:e})})}},u=r(2996),l=class extends u.l{constructor(e={}){super(),this.config=e,this.#c=new Map}#c;build(e,t,r){let n=t.queryKey,s=t.queryHash??(0,i.Rm)(n,t),a=this.get(s);return a||(a=new o({cache:this,queryKey:n,queryHash:s,options:e.defaultQueryOptions(t),state:r,defaultOptions:e.getQueryDefaults(n)}),this.add(a)),a}add(e){this.#c.has(e.queryHash)||(this.#c.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){let t=this.#c.get(e.queryHash);t&&(e.destroy(),t===e&&this.#c.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){n.V.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return this.#c.get(e)}getAll(){return[...this.#c.values()]}find(e){let t={exact:!0,...e};return this.getAll().find(e=>(0,i._x)(t,e))}findAll(e={}){let t=this.getAll();return Object.keys(e).length>0?t.filter(t=>(0,i._x)(e,t)):t}notify(e){n.V.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){n.V.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){n.V.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},c=r(7470),h=class extends u.l{constructor(e={}){super(),this.config=e,this.#h=[],this.#d=0}#h;#d;#f;build(e,t,r){let i=new c.m({mutationCache:this,mutationId:++this.#d,options:e.defaultMutationOptions(t),state:r});return this.add(i),i}add(e){this.#h.push(e),this.notify({type:"added",mutation:e})}remove(e){this.#h=this.#h.filter(t=>t!==e),this.notify({type:"removed",mutation:e})}clear(){n.V.batch(()=>{this.#h.forEach(e=>{this.remove(e)})})}getAll(){return this.#h}find(e){let t={exact:!0,...e};return this.#h.find(e=>(0,i.X7)(t,e))}findAll(e={}){return this.#h.filter(t=>(0,i.X7)(e,t))}notify(e){n.V.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){return this.#f=(this.#f??Promise.resolve()).then(()=>{let e=this.#h.filter(e=>e.state.isPaused);return n.V.batch(()=>e.reduce((e,t)=>e.then(()=>t.continue().catch(i.ZT)),Promise.resolve()))}).then(()=>{this.#f=void 0}),this.#f}},d=r(9198),f=r(436);function p(e,{pages:t,pageParams:r}){let i=t.length-1;return e.getNextPageParam(t[i],t,r[i],r)}function y(e,{pages:t,pageParams:r}){return e.getPreviousPageParam?.(t[0],t,r[0],r)}var m=class{#p;#y;#t;#m;#g;#v;#b;#O;constructor(e={}){this.#p=e.queryCache||new l,this.#y=e.mutationCache||new h,this.#t=e.defaultOptions||{},this.#m=new Map,this.#g=new Map,this.#v=0}mount(){this.#v++,1===this.#v&&(this.#b=d.j.subscribe(()=>{d.j.isFocused()&&(this.resumePausedMutations(),this.#p.onFocus())}),this.#O=f.N.subscribe(()=>{f.N.isOnline()&&(this.resumePausedMutations(),this.#p.onOnline())}))}unmount(){this.#v--,0===this.#v&&(this.#b?.(),this.#b=void 0,this.#O?.(),this.#O=void 0)}isFetching(e){return this.#p.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#y.findAll({...e,status:"pending"}).length}getQueryData(e){return this.#p.find({queryKey:e})?.state.data}ensureQueryData(e){let t=this.getQueryData(e.queryKey);return void 0!==t?Promise.resolve(t):this.fetchQuery(e)}getQueriesData(e){return this.getQueryCache().findAll(e).map(({queryKey:e,state:t})=>{let r=t.data;return[e,r]})}setQueryData(e,t,r){let n=this.#p.find({queryKey:e}),s=n?.state.data,a=(0,i.SE)(t,s);if(void 0===a)return;let o=this.defaultQueryOptions({queryKey:e});return this.#p.build(this,o).setData(a,{...r,manual:!0})}setQueriesData(e,t,r){return n.V.batch(()=>this.getQueryCache().findAll(e).map(({queryKey:e})=>[e,this.setQueryData(e,t,r)]))}getQueryState(e){return this.#p.find({queryKey:e})?.state}removeQueries(e){let t=this.#p;n.V.batch(()=>{t.findAll(e).forEach(e=>{t.remove(e)})})}resetQueries(e,t){let r=this.#p,i={type:"active",...e};return n.V.batch(()=>(r.findAll(e).forEach(e=>{e.reset()}),this.refetchQueries(i,t)))}cancelQueries(e={},t={}){let r={revert:!0,...t},s=n.V.batch(()=>this.#p.findAll(e).map(e=>e.cancel(r)));return Promise.all(s).then(i.ZT).catch(i.ZT)}invalidateQueries(e={},t={}){return n.V.batch(()=>{if(this.#p.findAll(e).forEach(e=>{e.invalidate()}),"none"===e.refetchType)return Promise.resolve();let r={...e,type:e.refetchType??e.type??"active"};return this.refetchQueries(r,t)})}refetchQueries(e={},t){let r={...t,cancelRefetch:t?.cancelRefetch??!0},s=n.V.batch(()=>this.#p.findAll(e).filter(e=>!e.isDisabled()).map(e=>{let t=e.fetch(void 0,r);return r.throwOnError||(t=t.catch(i.ZT)),"paused"===e.state.fetchStatus?Promise.resolve():t}));return Promise.all(s).then(i.ZT)}fetchQuery(e){let t=this.defaultQueryOptions(e);void 0===t.retry&&(t.retry=!1);let r=this.#p.build(this,t);return r.isStaleByTime(t.staleTime)?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(i.ZT).catch(i.ZT)}fetchInfiniteQuery(e){var t;return e.behavior=(t=e.pages,{onFetch:(e,r)=>{let n=async()=>{let r;let n=e.options,s=e.fetchOptions?.meta?.fetchMore?.direction,a=e.state.data?.pages||[],o=e.state.data?.pageParams||[],u=!1,l=t=>{Object.defineProperty(t,"signal",{enumerable:!0,get:()=>(e.signal.aborted?u=!0:e.signal.addEventListener("abort",()=>{u=!0}),e.signal)})},c=e.options.queryFn||(()=>Promise.reject(Error(`Missing queryFn: '${e.options.queryHash}'`))),h=async(t,r,n)=>{if(u)return Promise.reject();if(null==r&&t.pages.length)return Promise.resolve(t);let s={queryKey:e.queryKey,pageParam:r,direction:n?"backward":"forward",meta:e.options.meta};l(s);let a=await c(s),{maxPages:o}=e.options,h=n?i.Ht:i.VX;return{pages:h(t.pages,a,o),pageParams:h(t.pageParams,r,o)}};if(s&&a.length){let e="backward"===s,t=e?y:p,i={pages:a,pageParams:o},u=t(n,i);r=await h(i,u,e)}else{r=await h({pages:[],pageParams:[]},o[0]??n.initialPageParam);let e=t??a.length;for(let t=1;t<e;t++){let e=p(n,r);r=await h(r,e)}}return r};e.options.persister?e.fetchFn=()=>e.options.persister?.(n,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},r):e.fetchFn=n}}),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(i.ZT).catch(i.ZT)}resumePausedMutations(){return this.#y.resumePausedMutations()}getQueryCache(){return this.#p}getMutationCache(){return this.#y}getDefaultOptions(){return this.#t}setDefaultOptions(e){this.#t=e}setQueryDefaults(e,t){this.#m.set((0,i.Ym)(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){let t=[...this.#m.values()],r={};return t.forEach(t=>{(0,i.to)(e,t.queryKey)&&(r={...r,...t.defaultOptions})}),r}setMutationDefaults(e,t){this.#g.set((0,i.Ym)(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){let t=[...this.#g.values()],r={};return t.forEach(t=>{(0,i.to)(e,t.mutationKey)&&(r={...r,...t.defaultOptions})}),r}defaultQueryOptions(e){if(e?._defaulted)return e;let t={...this.#t.queries,...e?.queryKey&&this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=(0,i.Rm)(t.queryKey,t)),void 0===t.refetchOnReconnect&&(t.refetchOnReconnect="always"!==t.networkMode),void 0===t.throwOnError&&(t.throwOnError=!!t.suspense),void 0===t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t}defaultMutationOptions(e){return e?._defaulted?e:{...this.#t.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#p.clear(),this.#y.clear()}}}}]);